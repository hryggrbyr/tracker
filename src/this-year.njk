---
pagination:
  data: collections.mediaByYear
  size: 1
  alias: yearData
eleventyComputed:
  permalink: "/this-year/{{ yearData[0] }}/"
---
<h1>Media from {{ yearData[0] }}</h1>

<div class="grid">
  <!-- First tab: set to open -->
  <details class="item" name="alpha" open style="--n: 1;">
    <summary class="subitem">ğŸ“š Books</summary>
    <div class="details-content">
        <table>
          <tr>
            <th>Month completed</th>
            <th>Title</th>
            <th>Author</th>
            <th>Published</th>
            <th>&nbsp;</th>
          </tr>
        {%- for item in yearData[1] -%}
            {% if item.data.shelf == 'read' %}
          <tr>
            <td>{{ item.data.end_date | getMonthName }}</td>
            <td>{{ item.data.title }}</td>
            <td>{{ item.data.author }}</td>
            <td>{{ item.data.published | humanReadableDate | getFullYear }}</td>
            <td><a href="{{ item.url | url }}">View</a></td>
          </li>
          {% endif %}
        {%- endfor -%}
        </table>
    </div>
  </details>
  <details class="item" name="alpha" style="--n: 2;">
    <summary class="subitem">ğŸ“º Telly</summary>
    <div class="details-content">
        <table>
          <tr>
            <th>Month completed</th>
            <th>Title</th>
            <th>Director</th>
            <th>Released</th>
            <th>&nbsp;</th>
          </tr>
        {%- for item in yearData[1] -%}
            {% if item.data.type == 'series' %}
          <tr>
            <td>{{ item.data.watched | getMonthName }}</td>
            <td>{{ item.data.title }}</td>
            <td>{{ item.data.director }}</td>
            <td>{{ item.data.year }}</td>
            <td><a href="{{ item.url | url }}">View</a></td>
          </li>
          {% endif %}
        {%- endfor -%}
        </table>
    </div>
  </details>
  <details class="item" name="alpha" style="--n: 3;">
    <summary class="subitem">ğŸ¿ Films</summary>
    <div class="details-content">
        <table>
          <tr>
            <th>Month completed</th>
            <th>Title</th>
            <th>Director</th>
            <th>Released</th>
            <th>&nbsp;</th>
          </tr>
        {%- for item in yearData[1] -%}
            {% if item.data.type == 'movie' %}
          <tr>
            <td>{{ item.data.watched | getMonthName }}</td>
            <td>{{ item.data.title }}</td>
            <td>{{ item.data.director }}</td>
            <td>{{ item.data.year }}</td>
            <td><a href="{{ item.url | url }}">View</a></td>
          </li>
          {% endif %}
        {%- endfor -%}
        </table>
    </div>
  </details>
  <details class="item" name="alpha" style="--n: 4;">
    <summary class="subitem">ğŸ„ Christmas Films Endured</summary>
    <div class="details-content">
        <table>
          <tr>
            <th>Month completed</th>
            <th>Title</th>
            <th>Director</th>
            <th>Released</th>
            <th>&nbsp;</th>
          </tr>
          {%- for item in yearData[1] -%}
            {% if item.data.type == 'movie' and item.data.genre and 'Christmas' in item.data.genre %}
            <tr>
              <td>{{ item.data.watched | getMonthName }}</td>
              <td>{{ item.data.title }}</td>
              <td>{{ item.data.director }}</td>
              <td>{{ item.data.year }}</td>
              <td><a href="{{ item.url | url }}">View</a></td>
            </tr>
            {% endif %}
          {%- endfor -%}
        </table>
    </div>
  </details>
</div>
